
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Email Validation Tutorial</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body class="bg">


<div  class="container-fluid">
  <h2  style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;size: 5px;color: brown;margin-left: 50%;">New event</h2>
  <form [formGroup]="creatEvent" style="font-size: large;">

    <div class="form-group" name="EventDes">
      <label for="EventDes">event name</label>
      <input type="text" class="form-control" formControlName="EventDes"[class.is-invalid] = "creatEvent.get('EventDes').invalid && creatEvent.get('EventDes').touched" id="EventDes" autocomplete="off">
      <div class="error"
        *ngIf="creatEvent.controls['EventDes'].hasError('required') && creatEvent.controls['EventDes'].touched">EventDes
        is required</div>
    </div>
    <!-- <div class="form-group" name="EventType" >
      <label dor="EventType">סוג ארוע:</label>
      <mat-select formControlName="EventType">
        <mat-option  *ngFor="let mes of eventTypeList" [value]="mes.Des" >
          {{mes.Des}}
        </mat-option>
      </mat-select>
      <div class="error"
        *ngIf="creatEvent.controls['EventType'].hasError('required') && creatEvent.controls['EventType'].touched">EventType
        is required</div>
    </div> -->

    <div class="form-group" name="EventType" >

      <label dor="EventType">event type:</label>
      <mat-select formControlName="EventType">
        <mat-option  *ngFor="let mes of eventTypeList" [value]="mes.Id" >
          {{mes.Des}}
        </mat-option>
      </mat-select>
      <div class="error"
        *ngIf="creatEvent.controls['EventType'].hasError('required') && creatEvent.controls['EventType'].touched">EventType
        is required</div>
    </div>
   
    <div></div>
    <div class="form-group" name="EventDate">
      <label for="EventDate">Event date:
      </label>
      <input type="date" class="form-control" [class.is-invalid] = "creatEvent.get('EventDate').invalid && creatEvent.get('EventDate').touched"formControlName="EventDate" id="EventDate" autocomplete="off">
      <div class="error"
        *ngIf="creatEvent.controls['EventDate'].hasError('required') && creatEvent.controls['EventDate'].touched">
        EventDate is required</div>
    </div>

    <div class="form-group" name="Invitation">
      <div class="text-center">
        <input class="form-control" type="file" (change)="onChange($event)"  formControlName="Invitation" id="Invitation" autocomplete="off">

        <button (click)="onUpload()"  
            class="btn btn-success"> 
            Upload 
        </button> 
      </div>

      <!-- Shareable short link of  uoloaded file -->
      <div class="container text-center jumbotron" *ngIf="shortLink">
        <h2> Visit Here</h2>
        <a href="{{shortLink}}">{{shortLink}}</a>
      </div>

      <!--Flag variable is used here-->
      <div class="container" *ngIf="loading">
        <h3>Loading ...</h3>
      </div>

    </div>

    <div class="form-group" name="EventDueDate">
      <label for="EventDueDate">last date to confirm-participation:
      </label>
      <input type="date" class="form-control"[class.is-invalid] = "creatEvent.get('EventDueDate').invalid && creatEvent.get('EventDueDate').touched" formControlName="EventDueDate" id="EventDueDate" autocomplete="off">
      <div class="error"
        *ngIf="creatEvent.controls['EventDueDate'].hasError('required') && creatEvent.controls['EventDueDate'].touched">
        EventDueDate is required</div>
    </div>
    

    <div class="form-group" name="NumTables">
      <label for="EventDueDate">Number of tables in hall:
      </label>
      <input type="number" class="form-control"  [class.is-invalid] = "creatEvent.get('NumTables').invalid && creatEvent.get('NumTables').touched"formControlName="NumTables" id="NumTables" autocomplete="off">
      <div class="error"
        *ngIf="creatEvent.controls['NumTables'].hasError('required') && creatEvent.controls['NumTables'].touched">
        NumTables is required</div>
    </div>

    <div class="form-group" name="NumPlacesAroundATable">
      <label for="EventDueDate">Number of seats around table:
      </label>
      <input type="number" class="form-control"[class.is-invalid] = "creatEvent.get('NumPlacesAroundATable').invalid && creatEvent.get('NumPlacesAroundATable').touched" formControlName="NumPlacesAroundATable" id="NumPlacesAroundATable"
        autocomplete="off">
      <div class="error"
        *ngIf="creatEvent.controls['NumPlacesAroundATable'].hasError('required') && creatEvent.controls['NumPlacesAroundATable'].touched">
        NumPlacesAroundATable is required</div>
    </div>
    <input type="button" class="btn btn-primary pull-right" (click)="onSubmit()" value="continue to upload guests" [disabled]="!creatEvent.valid">
  </form>
</div>
</body>