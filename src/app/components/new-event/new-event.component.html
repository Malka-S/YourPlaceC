<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Email Validation Tutorial</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body class="bg">


<div class="container-fluid">
  <h2 >New
    event</h2>
  <form [formGroup]="creatEvent" style="font-size: large;">

    <div class="form-group" name="event_des">
      <label for="event_des">event name:</label>
      <input type="text" class="form-control" formControlName="event_des" id="event_des" autocomplete="off">
      <div class="error"
        *ngIf="creatEvent.controls['event_des'].hasError('required') && creatEvent.controls['event_des'].touched">event name
        is required</div>
    </div>
    <!-- <div class="form-group" name="EventType" >
      <label dor="EventType">סוג ארוע:</label>
      <mat-select formControlName="EventType">
        <mat-option  *ngFor="let mes of eventTypeList" [value]="mes.Des" >
          {{mes.Des}}
        </mat-option>
      </mat-select>
      <div class="error"
        *ngIf="creatEvent.controls['EventType'].hasError('required') && creatEvent.controls['EventType'].touched">EventType
        is required</div>
    </div> -->

    <div class="form-group" name="event_type_id">

      <label for="event_type_id">event type:</label>
      <mat-select formControlName="event_type_id">
        <mat-option *ngFor="let mes of eventTypeList" [value]="mes.Id">
          {{mes.Des}}
        </mat-option>
      </mat-select>
      <div class="error"
        *ngIf="creatEvent.controls['event_type_id'].hasError('required') && creatEvent.controls['event_type_id'].touched">
        EventType
        is required</div>
    </div>

    <div></div>
    <div class="form-group" name="event_date">
      <label for="event_date">event date:
      </label>
      <input type="date" class="form-control" formControlName="event_date" id="event_date" autocomplete="off">
      <div class="error"
        *ngIf="creatEvent.controls['event_date'].hasError('required') && creatEvent.controls['event_date'].touched">
        EventDate is required</div>
    </div>

    <div class="form-group" name="invitation_file">
      <div class="text-center">
        <input class="form-control" type="file" (change)="onChange($event)" formControlName="invitation_file" id="invitation_file"
          autocomplete="off">

        <button (click)="onUpload()" class="btn btn-success">
          Upload
        </button>
      </div>

      <!-- Shareable short link of  uoloaded file -->
      <div class="container text-center jumbotron" *ngIf="shortLink">
        <h2> Visit Here</h2>
        <a href="{{shortLink}}">{{shortLink}}</a>
      </div>

      <!--Flag variable is used here-->
      <div class="container" *ngIf="loading">
        <h3>Loading ...</h3>
      </div>

    </div>

    <div class="form-group" name="due_date">
      <label for="due_date">last date to confirm-participation:
      </label>
      <input type="date" class="form-control" formControlName="due_date" id="due_date" autocomplete="off">
      <div class="error"
        *ngIf="creatEvent.controls['due_date'].hasError('required') && creatEvent.controls['due_date'].touched">
        EventDueDate is required</div>
    </div>


    <div class="form-group" name="num_tables">
      <label for="num_tables">number of tables:
      </label>
      <input type="number" class="form-control" formControlName="num_tables" id="num_tables" autocomplete="off">
      <div class="error"
        *ngIf="creatEvent.controls['num_tables'].hasError('required') && creatEvent.controls['num_tables'].touched">
        NumTables is required</div>
    </div>

    <div class="form-group" name="NumPlacesAroundATable">
      <label for="EventDueDate">Number of seats around table:
      </label>
      <input type="number" class="form-control" formControlName="num_places_around_a_table" id="num_places_around_a_table"
        autocomplete="off">
      <div class="error"
        *ngIf="creatEvent.controls['num_places_around_a_table'].hasError('required') && creatEvent.controls['num_places_around_a_table'].touched">
        NumPlacesAroundATable is required</div>
    </div>

        <button mat-raised-button (click)="openDialog()">add category</button>
        <ol>
          <li *ngFor="let a of catagryList">
            name: <i>{{a.des}}</i>
          </li>
        </ol>
        <input type="button"   class="btn btn-primary pull-right" (click)="onUploudExel()"  value="continue to upload XL" [disabled]="!creatEvent.valid">
        &nbsp;
        <input type="button" class="btn btn-primary pull-right" (click)="onSubmit()" value="continue to upload guests" [disabled]="!creatEvent.valid">

  </form>
</div>
</body>
